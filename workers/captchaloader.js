(()=>{"use strict";var e={n:t=>{var r=t&&t.__esModule?()=>t.default:()=>t;return e.d(r,{a:r}),r},d:(t,r)=>{for(var a in r)e.o(r,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:r[a]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=require("fs");var r=e.n(t);const a=require("path");var o=e.n(a);const n=require("ppfun-captcha");var s=e.n(n);const i=require("worker_threads"),c="captchaFonts";if(i.isMainThread)throw new Error("Tilewriter is run as a worker thread, not as own process");const d=r().readdirSync(o().resolve(__dirname,"..",c)).filter((e=>e.endsWith(".ttf")||e.endsWith(".otf"))).map((e=>s().loadFont(o().resolve(__dirname,"..",c,e))));i.parentPort.on("message",(e=>{try{if("createCaptcha"===e){const e=s().create({width:500,height:300,fontSize:180,stroke:"black",fill:"none",nodeDeviation:2.5,connectionPathDeviation:10,style:"stroke-width: 4;",background:"#EFEFEF",font:d}),t=Math.random().toString(36).substring(2,15);i.parentPort.postMessage([null,e.text,e.data,t])}}catch(e){console.warn(`Captchas: Error on createCaptcha: ${e.message}`),i.parentPort.postMessage(["Failure!"])}}))})();